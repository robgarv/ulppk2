\hypertarget{statemachine_8c}{\section{ulppk/statemachine.c File Reference}
\label{statemachine_8c}\index{ulppk/statemachine.\-c@{ulppk/statemachine.\-c}}
}


Implementation of the statemachine mechanism.  


{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$stdarg.\-h$>$}\\*
{\ttfamily \#include $<$time.\-h$>$}\\*
{\ttfamily \#include \char`\"{}statemachine.\-h\char`\"{}}\\*
{\ttfamily \#include $<$pathinfo.\-h$>$}\\*
{\ttfamily \#include $<$appenv.\-h$>$}\\*
{\ttfamily \#include $<$sysconfig.\-h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{statemachine_8c_ac0ffee58c82af2eb38482a6f8ffe3a38}{\-\_\-\-S\-M\-\_\-\-L\-O\-G\-G\-I\-N\-G}
\item 
\#define \hyperlink{statemachine_8c_aa36a20aa199b4199974a844a50bda0ea}{S\-M\-L\-O\-G}(...)~smlog( \-\_\-\-\_\-\-V\-A\-\_\-\-A\-R\-G\-S\-\_\-\-\_\- );
\item 
\#define \hyperlink{statemachine_8c_a418dfd0ce90fb647a4732296710629d5}{S\-M\-O\-P\-E\-N\-L\-O\-G}(a)~smopenlog(a);
\item 
\#define \hyperlink{statemachine_8c_a021f689a24c7ce59496ab4f0e86df5e8}{S\-M\-C\-L\-O\-S\-E\-L\-O\-G}~smclose\-\_\-log();
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{statemachine_8c_ae840790e4f5ae98c977e2c36e3404606}{sm\-\_\-register\-\_\-event} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep, const char $\ast$name)
\begin{DoxyCompactList}\small\item\em State machine event registration. \end{DoxyCompactList}\item 
\hyperlink{statemachine_8h_a6f0ccd0b6cfa6e37d337d865442ee93b}{S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-L\-I\-S\-T\-\_\-\-H\-A\-N\-D\-L\-E} \hyperlink{statemachine_8c_abcf272616d5e0b04d25dd4ba8a1518d0}{sm\-\_\-register\-\_\-action\-\_\-list} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep, const char $\ast$name)
\begin{DoxyCompactList}\small\item\em Register a state machine action list. \end{DoxyCompactList}\item 
\hyperlink{statemachine_8h_a49cb86c3ee19747e43ffc473b6ba14a0}{S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-H\-A\-N\-D\-L\-E} \hyperlink{statemachine_8c_a702e35ffdeebad7d1f384659a270a293}{sm\-\_\-register\-\_\-action} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep, const char $\ast$actlist\-\_\-name, const char $\ast$name, \hyperlink{statemachine_8h_ac2460354b049c36e1a12924bbda9e3ea}{S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-H\-A\-N\-D\-L\-E\-R} $\ast$handlerp)
\begin{DoxyCompactList}\small\item\em Register a state machine action by adding it to an action list. \end{DoxyCompactList}\item 
\hyperlink{statemachine_8h_aa30fadf137d8a09eceea2a2d973be5ef}{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-H\-A\-N\-D\-L\-E} \hyperlink{statemachine_8c_a7f26f55a19b71ea089f4ba1caf2e0641}{sm\-\_\-register\-\_\-state} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep, const char $\ast$name)
\item 
\hyperlink{statemachine_8h_ad54088a07933f08c1ea4cc72c6a14925}{S\-M\-\_\-\-T\-R\-A\-N\-S\-I\-T\-I\-O\-N\-\_\-\-H\-A\-N\-D\-L\-E} \hyperlink{statemachine_8c_ab1f9de16e4ea426ea86eb17a5d2d42d9}{sm\-\_\-register\-\_\-transition} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep, const char $\ast$s1name, const char $\ast$s2name, const char $\ast$evname, const char $\ast$actlist\-\_\-name)
\begin{DoxyCompactList}\small\item\em Register state transitions. \end{DoxyCompactList}\item 
int \hyperlink{statemachine_8c_afa25f85c5dc6ad3dd045501017882d8c}{sm\-\_\-register\-\_\-global\-\_\-transition} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep, const char $\ast$s2name, const char $\ast$evname, const char $\ast$actlist\-\_\-name)
\begin{DoxyCompactList}\small\item\em Register a global transition. \end{DoxyCompactList}\item 
void \hyperlink{statemachine_8c_a615a8f05521ec3112ea91c38ecd48b6c}{sm\-\_\-register\-\_\-stock\-\_\-defs} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep)
\item 
\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$ \hyperlink{statemachine_8c_a39fa7373ae662d47b3b9c772add4840f}{sm\-\_\-new\-\_\-machine} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep, \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f}{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F} $\ast$stdefp, const char $\ast$machine\-\_\-name)
\item 
void \hyperlink{statemachine_8c_a5ba3c23f13377961b72ec364b75f2942}{sm\-\_\-reset\-\_\-machine} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep)
\begin{DoxyCompactList}\small\item\em Reset a state machine object. This is like sm\-\_\-new\-\_\-machine, except you don't have to re-\/establish the states, events, actions and such. \end{DoxyCompactList}\item 
\hyperlink{statemachine_8h_a70482ff48418e4ab7788b695da116f0d}{S\-M\-\_\-\-E\-R\-R\-O\-R} \hyperlink{statemachine_8c_a298c4956620a135d748500a6371106d6}{sm\-\_\-transition} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep, const char $\ast$event\-\_\-name, void $\ast$datap)
\begin{DoxyCompactList}\small\item\em The main transition processor. Should not be called until machine has been started by calling sm\-\_\-set\-\_\-definition\-\_\-complete to mark the definition of the state/transition tables to be complete. The machine is currently in state s1. The incoming event named by event\-\_\-name selects a transition. If no transition matching the incoming event is found, no transition occurs but the function and sm\-\_\-errno(machinep) return non-\/zero. The datap is provided to the action handlers which are members of the transition's action list. Any action handler can return the events E\-V\-H\-\_\-\-N\-U\-L\-L, meaning no event, or E\-V\-\_\-\-A\-B\-O\-R\-T indicating the machine is in a bad state. Action handlers may also return custom events. These will get pushed onto the event queue. After the transition is complete, the event queue is serviced, which may trigger additional transitions. \end{DoxyCompactList}\item 
\hyperlink{statemachine_8h_acb17336d3c3a21ee8233cec54bb55b4f}{S\-M\-\_\-\-E\-V\-E\-N\-T\-\_\-\-H\-A\-N\-D\-L\-E} \hyperlink{statemachine_8c_a64e4a1bfc015d88f116f2afa64acb778}{sm\-\_\-event\-\_\-handle} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep, const char $\ast$evname)
\begin{DoxyCompactList}\small\item\em Given a state machine and a event name string, retrieve the event handle. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{statemachine_8c_a946f6fd21246909c4e299626082b2235}{sm\-\_\-curr\-\_\-state} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep)
\begin{DoxyCompactList}\small\item\em Retrieves the name string of the current machine state. \end{DoxyCompactList}\item 
\hyperlink{statemachine_8h_a70482ff48418e4ab7788b695da116f0d}{S\-M\-\_\-\-E\-R\-R\-O\-R} \hyperlink{statemachine_8c_a07924741d0c93b2d21696fa3c7d76141}{sm\-\_\-errno} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep)
\begin{DoxyCompactList}\small\item\em Return the last machine error posted on the machine. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{statemachine_8c_ab3f41e9efa7f5839ff50d471b84d1d27}{sm\-\_\-strerror} (\hyperlink{statemachine_8h_a70482ff48418e4ab7788b695da116f0d}{S\-M\-\_\-\-E\-R\-R\-O\-R} errcode)
\begin{DoxyCompactList}\small\item\em Convenience function for getting string interpretation of an error code. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{statemachine_8c_a477ebff176894deea265f7eb17fc3d2c}{sm\-\_\-strdiag} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep)
\begin{DoxyCompactList}\small\item\em Format error text. Updates the errtext field of the state machine structure. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{statemachine_8c_a3ec396042d2c8797cfbe749cdb460938}{sm\-\_\-pop\-\_\-tx\-\_\-error} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep)
\item 
void \hyperlink{statemachine_8c_ac4bd28b0a35ed1262d9bd536f48bcd5a}{sm\-\_\-set\-\_\-definition\-\_\-complete} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep)
\begin{DoxyCompactList}\small\item\em Set the state definition complete flag for the machine's state definition table. Note that this will affect A\-L\-L machines that share a particular state definition table. \end{DoxyCompactList}\item 
int \hyperlink{statemachine_8c_a0cdcb05b77d1147b1748d9562e0e6fe0}{sm\-\_\-get\-\_\-definition\-\_\-complete} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep)
\begin{DoxyCompactList}\small\item\em Get the state table definition complete flag for a particular machine. \end{DoxyCompactList}\item 
void \hyperlink{statemachine_8c_a4a8f18cce686180d65371f17a614d85c}{sm\-\_\-close\-\_\-machine} (\hyperlink{statemachine_8h_a17a6221287f20ca75fef19be0fc19952}{S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$machinep)
\begin{DoxyCompactList}\small\item\em Closes the state machine. After this, machinep M\-U\-S\-T be reset using sm\-\_\-reset\-\_\-machine if you want to re-\/use the machine structure. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implementation of the statemachine mechanism. This package provides definitions and a framework for implementing classic Ward/\-Mellor state machines. A state machine is described by a graph consisting of


\begin{DoxyEnumerate}
\item A set of states. 
\item A set of transitions connecting the states 
\end{DoxyEnumerate}

Transitions are triggered by events and implemented by one or more actions. The sequence of actions is expressed in a list. The individual actions are performed in the order they are given on the list.

The triggering event, action list, initial state and final state are considered properties of the transitions. The semantics could be expressed\-: When in state S1, when event E1 occurs, perform action list A\-L1 and transition to State S2.

Nomenclature\-: 
\begin{DoxyItemize}
\item tx =$>$ transition 
\item ev =$>$ event 
\item al =$>$ action list 
\item ax =$>$ action (member of action list) 
\item st =$>$ state 
\end{DoxyItemize}

W\-A\-R\-N\-I\-N\-G\-: This package is designed under the guiding philosophy of \char`\"{}\-Strong
typing is for weak minds.\char`\"{} Stick to it. Or else. \-:D

\paragraph*{N\-O\-T\-E\-S O\-N M\-U\-L\-T\-I\-P\-L\-E M\-A\-C\-H\-I\-N\-E\-S U\-S\-I\-N\-G T\-H\-E S\-A\-M\-E D\-E\-F\-I\-N\-I\-T\-I\-O\-N\-S}

To create a machine. (This machine is allocated off the heap.)

static $\ast$ \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f}{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F} mydefs;

machine1p = sm\-\_\-new\-\_\-machine(N\-U\-L\-L, \&mydefs, \char`\"{}mymachine1\char`\"{});

Now register events, action lists, Then create a second machine reusing the definitions table\-:

machine2p = sm\-\_\-new\-\_\-machine(N\-U\-L\-L, \&mydefs, \char`\"{}mymachine2\char`\"{})

\paragraph*{N\-O\-T\-E\-S O\-N L\-O\-G\-G\-I\-N\-G\-:}

If you want log statemachine operations to the system logger, then uncomment the define below or configure with -\/\-D\-\_\-\-S\-T\-A\-T\-E\-M\-A\-C\-H\-I\-N\-E\-\_\-\-U\-S\-E\-\_\-\-S\-Y\-S\-L\-O\-G. e.\-g.

env C\-F\-L\-A\-G\-S=\char`\"{}-\/g -\/\-O0 -\/\-D\-\_\-\-S\-T\-A\-T\-E\-M\-A\-C\-H\-I\-N\-E\-\_\-\-U\-S\-E\-\_\-\-S\-Y\-S\-L\-O\-G\-\_\-\char`\"{} ./configure

The default is to log to \mbox{[}logdir\mbox{]}/\mbox{[}appname\mbox{]}.statemachine.\-log where \mbox{[}logdir\mbox{]} is the value of environment variable S\-Y\-S\-C\-O\-N\-F\-I\-G\-\_\-\-L\-O\-G\-\_\-\-D\-I\-R \mbox{[}appname\mbox{]} is the value of environment variable S\-Y\-S\-C\-O\-N\-F\-I\-G\-\_\-\-A\-P\-P\-N\-A\-M\-E

If S\-Y\-S\-L\-O\-G is used for logging, then the package is counting on the calling program to properly call openlog and set up use of the system logger. (That is normally done using ulppk\-\_\-log functions.) 

Definition in file \hyperlink{statemachine_8c_source}{statemachine.\-c}.



\subsection{Macro Definition Documentation}
\hypertarget{statemachine_8c_ac0ffee58c82af2eb38482a6f8ffe3a38}{\index{statemachine.\-c@{statemachine.\-c}!\-\_\-\-S\-M\-\_\-\-L\-O\-G\-G\-I\-N\-G@{\-\_\-\-S\-M\-\_\-\-L\-O\-G\-G\-I\-N\-G}}
\index{\-\_\-\-S\-M\-\_\-\-L\-O\-G\-G\-I\-N\-G@{\-\_\-\-S\-M\-\_\-\-L\-O\-G\-G\-I\-N\-G}!statemachine.c@{statemachine.\-c}}
\subsubsection[{\-\_\-\-S\-M\-\_\-\-L\-O\-G\-G\-I\-N\-G}]{\setlength{\rightskip}{0pt plus 5cm}\#define \-\_\-\-S\-M\-\_\-\-L\-O\-G\-G\-I\-N\-G}}\label{statemachine_8c_ac0ffee58c82af2eb38482a6f8ffe3a38}


Definition at line 150 of file statemachine.\-c.

\hypertarget{statemachine_8c_a021f689a24c7ce59496ab4f0e86df5e8}{\index{statemachine.\-c@{statemachine.\-c}!S\-M\-C\-L\-O\-S\-E\-L\-O\-G@{S\-M\-C\-L\-O\-S\-E\-L\-O\-G}}
\index{S\-M\-C\-L\-O\-S\-E\-L\-O\-G@{S\-M\-C\-L\-O\-S\-E\-L\-O\-G}!statemachine.c@{statemachine.\-c}}
\subsubsection[{S\-M\-C\-L\-O\-S\-E\-L\-O\-G}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-M\-C\-L\-O\-S\-E\-L\-O\-G~smclose\-\_\-log();}}\label{statemachine_8c_a021f689a24c7ce59496ab4f0e86df5e8}


Definition at line 155 of file statemachine.\-c.

\hypertarget{statemachine_8c_aa36a20aa199b4199974a844a50bda0ea}{\index{statemachine.\-c@{statemachine.\-c}!S\-M\-L\-O\-G@{S\-M\-L\-O\-G}}
\index{S\-M\-L\-O\-G@{S\-M\-L\-O\-G}!statemachine.c@{statemachine.\-c}}
\subsubsection[{S\-M\-L\-O\-G}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-M\-L\-O\-G(
\begin{DoxyParamCaption}
\item[{}]{...}
\end{DoxyParamCaption}
)~smlog( \-\_\-\-\_\-\-V\-A\-\_\-\-A\-R\-G\-S\-\_\-\-\_\- );}}\label{statemachine_8c_aa36a20aa199b4199974a844a50bda0ea}


Definition at line 153 of file statemachine.\-c.

\hypertarget{statemachine_8c_a418dfd0ce90fb647a4732296710629d5}{\index{statemachine.\-c@{statemachine.\-c}!S\-M\-O\-P\-E\-N\-L\-O\-G@{S\-M\-O\-P\-E\-N\-L\-O\-G}}
\index{S\-M\-O\-P\-E\-N\-L\-O\-G@{S\-M\-O\-P\-E\-N\-L\-O\-G}!statemachine.c@{statemachine.\-c}}
\subsubsection[{S\-M\-O\-P\-E\-N\-L\-O\-G}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-M\-O\-P\-E\-N\-L\-O\-G(
\begin{DoxyParamCaption}
\item[{}]{a}
\end{DoxyParamCaption}
)~smopenlog(a);}}\label{statemachine_8c_a418dfd0ce90fb647a4732296710629d5}


Definition at line 154 of file statemachine.\-c.



\subsection{Function Documentation}
\hypertarget{statemachine_8c_a4a8f18cce686180d65371f17a614d85c}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-close\-\_\-machine@{sm\-\_\-close\-\_\-machine}}
\index{sm\-\_\-close\-\_\-machine@{sm\-\_\-close\-\_\-machine}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-close\-\_\-machine}]{\setlength{\rightskip}{0pt plus 5cm}void sm\-\_\-close\-\_\-machine (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a4a8f18cce686180d65371f17a614d85c}


Closes the state machine. After this, machinep M\-U\-S\-T be reset using sm\-\_\-reset\-\_\-machine if you want to re-\/use the machine structure. 


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
\end{DoxyParams}


Definition at line 959 of file statemachine.\-c.

\hypertarget{statemachine_8c_a946f6fd21246909c4e299626082b2235}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-curr\-\_\-state@{sm\-\_\-curr\-\_\-state}}
\index{sm\-\_\-curr\-\_\-state@{sm\-\_\-curr\-\_\-state}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-curr\-\_\-state}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ sm\-\_\-curr\-\_\-state (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a946f6fd21246909c4e299626082b2235}


Retrieves the name string of the current machine state. 


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Name of the current machine state/ 
\end{DoxyReturn}


Definition at line 847 of file statemachine.\-c.

\hypertarget{statemachine_8c_a07924741d0c93b2d21696fa3c7d76141}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-errno@{sm\-\_\-errno}}
\index{sm\-\_\-errno@{sm\-\_\-errno}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-errno}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-E\-R\-R\-O\-R} sm\-\_\-errno (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a07924741d0c93b2d21696fa3c7d76141}


Return the last machine error posted on the machine. 


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
an S\-M\-\_\-\-E\-R\-R\-O\-R code (S\-M\-\_\-\-N\-O\-\_\-\-E\-R\-R\-O\-R = 0 indicates success) 
\end{DoxyReturn}


Definition at line 857 of file statemachine.\-c.

\hypertarget{statemachine_8c_a64e4a1bfc015d88f116f2afa64acb778}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-event\-\_\-handle@{sm\-\_\-event\-\_\-handle}}
\index{sm\-\_\-event\-\_\-handle@{sm\-\_\-event\-\_\-handle}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-event\-\_\-handle}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-E\-V\-E\-N\-T\-\_\-\-H\-A\-N\-D\-L\-E} sm\-\_\-event\-\_\-handle (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep, }
\item[{const char $\ast$}]{evname}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a64e4a1bfc015d88f116f2afa64acb778}


Given a state machine and a event name string, retrieve the event handle. 


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
{\em evname} & Name of the event of interest. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\-M\-\_\-\-N\-U\-L\-L\-\_\-\-H\-A\-N\-D\-L\-E if not found. Otherwise, event handle. 
\end{DoxyReturn}


Definition at line 836 of file statemachine.\-c.

\hypertarget{statemachine_8c_a0cdcb05b77d1147b1748d9562e0e6fe0}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-get\-\_\-definition\-\_\-complete@{sm\-\_\-get\-\_\-definition\-\_\-complete}}
\index{sm\-\_\-get\-\_\-definition\-\_\-complete@{sm\-\_\-get\-\_\-definition\-\_\-complete}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-get\-\_\-definition\-\_\-complete}]{\setlength{\rightskip}{0pt plus 5cm}int sm\-\_\-get\-\_\-definition\-\_\-complete (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a0cdcb05b77d1147b1748d9562e0e6fe0}


Get the state table definition complete flag for a particular machine. 


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if statemachine definition has been posted as being compelte, 0 otherwise. 
\end{DoxyReturn}


Definition at line 949 of file statemachine.\-c.

\hypertarget{statemachine_8c_a39fa7373ae662d47b3b9c772add4840f}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-new\-\_\-machine@{sm\-\_\-new\-\_\-machine}}
\index{sm\-\_\-new\-\_\-machine@{sm\-\_\-new\-\_\-machine}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-new\-\_\-machine}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E}$\ast$ sm\-\_\-new\-\_\-machine (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep, }
\item[{{\bf S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F} $\ast$}]{stdefp, }
\item[{const char $\ast$}]{machine\-\_\-name}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a39fa7373ae662d47b3b9c772add4840f}


Definition at line 686 of file statemachine.\-c.

\hypertarget{statemachine_8c_a3ec396042d2c8797cfbe749cdb460938}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-pop\-\_\-tx\-\_\-error@{sm\-\_\-pop\-\_\-tx\-\_\-error}}
\index{sm\-\_\-pop\-\_\-tx\-\_\-error@{sm\-\_\-pop\-\_\-tx\-\_\-error}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-pop\-\_\-tx\-\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ sm\-\_\-pop\-\_\-tx\-\_\-error (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a3ec396042d2c8797cfbe749cdb460938}
Called to retrieve errors stacked on a state machine's error collection. Useful for diagnosing problems with the state transition table. 
\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to transition diagnostic text. 
\end{DoxyReturn}


Definition at line 914 of file statemachine.\-c.

\hypertarget{statemachine_8c_a702e35ffdeebad7d1f384659a270a293}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-register\-\_\-action@{sm\-\_\-register\-\_\-action}}
\index{sm\-\_\-register\-\_\-action@{sm\-\_\-register\-\_\-action}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-register\-\_\-action}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-H\-A\-N\-D\-L\-E} sm\-\_\-register\-\_\-action (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep, }
\item[{const char $\ast$}]{actlist\-\_\-name, }
\item[{const char $\ast$}]{name, }
\item[{{\bf S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-H\-A\-N\-D\-L\-E\-R} $\ast$}]{handlerp}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a702e35ffdeebad7d1f384659a270a293}


Register a state machine action by adding it to an action list. 

After action lists have been registered, register the actual action handlers.


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
{\em actlist\-\_\-name} & Name of the action list to which the handler must be added. \\
\hline
{\em name} & Name of the action handler \\
\hline
{\em handlerp} & Pointer to the actual action handler function. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-H\-A\-N\-D\-L\-E of the created action handler (an integer) 
\end{DoxyReturn}


Definition at line 464 of file statemachine.\-c.

\hypertarget{statemachine_8c_abcf272616d5e0b04d25dd4ba8a1518d0}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-register\-\_\-action\-\_\-list@{sm\-\_\-register\-\_\-action\-\_\-list}}
\index{sm\-\_\-register\-\_\-action\-\_\-list@{sm\-\_\-register\-\_\-action\-\_\-list}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-register\-\_\-action\-\_\-list}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-L\-I\-S\-T\-\_\-\-H\-A\-N\-D\-L\-E} sm\-\_\-register\-\_\-action\-\_\-list (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep, }
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_abcf272616d5e0b04d25dd4ba8a1518d0}


Register a state machine action list. 

Action list registration normally follows event registration.


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
{\em name} & Name of the action list \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-L\-I\-S\-T\-\_\-\-H\-A\-N\-D\-L\-E of the created action list (an integer) 
\end{DoxyReturn}


Definition at line 429 of file statemachine.\-c.

\hypertarget{statemachine_8c_ae840790e4f5ae98c977e2c36e3404606}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-register\-\_\-event@{sm\-\_\-register\-\_\-event}}
\index{sm\-\_\-register\-\_\-event@{sm\-\_\-register\-\_\-event}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-register\-\_\-event}]{\setlength{\rightskip}{0pt plus 5cm}int sm\-\_\-register\-\_\-event (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep, }
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_ae840790e4f5ae98c977e2c36e3404606}


State machine event registration. 

Define your events first using this function. 
\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
{\em name} & Name of the event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\-M\-\_\-\-E\-V\-E\-N\-T\-\_\-\-H\-A\-N\-D\-L\-E of the created event (an integer) 
\end{DoxyReturn}


Definition at line 398 of file statemachine.\-c.

\hypertarget{statemachine_8c_afa25f85c5dc6ad3dd045501017882d8c}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-register\-\_\-global\-\_\-transition@{sm\-\_\-register\-\_\-global\-\_\-transition}}
\index{sm\-\_\-register\-\_\-global\-\_\-transition@{sm\-\_\-register\-\_\-global\-\_\-transition}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-register\-\_\-global\-\_\-transition}]{\setlength{\rightskip}{0pt plus 5cm}int sm\-\_\-register\-\_\-global\-\_\-transition (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep, }
\item[{const char $\ast$}]{s2name, }
\item[{const char $\ast$}]{evname, }
\item[{const char $\ast$}]{actlist\-\_\-name}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_afa25f85c5dc6ad3dd045501017882d8c}


Register a global transition. 

Global transitions are useful for common error handling. For example, presume that all the states on the state/transition graph must handle the event E\-V\-\_\-\-M\-Y\-E\-R\-R\-O\-R, and that after handling the event the machine should land in the state M\-Y\-\_\-\-E\-R\-R\-O\-R S\-T\-A\-T\-E. A common action list can be composed for this error event, Rather than register the event and action list for each defined state, call sm\-\_\-register\-\_\-global\-\_\-transition to apply the transition to all the defined states. Restrictions\-: 1) A\-L\-L states must be required to handle the triggering event. 2) The same end state must be reached in all cases. 3) The same action list must be applied to the triggering event. 4) No other transition must be triggered by the event that triggers the global transition.


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
{\em s2name} & Name of the final state \\
\hline
{\em evname} & Name of the trigger event \\
\hline
{\em actlist\-\_\-name} & Name of the action list to be executed on receipt of the triggering event. @ return 0 if successful and non-\/zero otherwise. \\
\hline
\end{DoxyParams}


Definition at line 634 of file statemachine.\-c.

\hypertarget{statemachine_8c_a7f26f55a19b71ea089f4ba1caf2e0641}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-register\-\_\-state@{sm\-\_\-register\-\_\-state}}
\index{sm\-\_\-register\-\_\-state@{sm\-\_\-register\-\_\-state}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-register\-\_\-state}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-H\-A\-N\-D\-L\-E} sm\-\_\-register\-\_\-state (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep, }
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a7f26f55a19b71ea089f4ba1caf2e0641}


Definition at line 514 of file statemachine.\-c.

\hypertarget{statemachine_8c_a615a8f05521ec3112ea91c38ecd48b6c}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-register\-\_\-stock\-\_\-defs@{sm\-\_\-register\-\_\-stock\-\_\-defs}}
\index{sm\-\_\-register\-\_\-stock\-\_\-defs@{sm\-\_\-register\-\_\-stock\-\_\-defs}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-register\-\_\-stock\-\_\-defs}]{\setlength{\rightskip}{0pt plus 5cm}void sm\-\_\-register\-\_\-stock\-\_\-defs (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a615a8f05521ec3112ea91c38ecd48b6c}
Register predefined events and other convenience objects 
\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
\end{DoxyParams}


Definition at line 667 of file statemachine.\-c.

\hypertarget{statemachine_8c_ab1f9de16e4ea426ea86eb17a5d2d42d9}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-register\-\_\-transition@{sm\-\_\-register\-\_\-transition}}
\index{sm\-\_\-register\-\_\-transition@{sm\-\_\-register\-\_\-transition}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-register\-\_\-transition}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-T\-R\-A\-N\-S\-I\-T\-I\-O\-N\-\_\-\-H\-A\-N\-D\-L\-E} sm\-\_\-register\-\_\-transition (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep, }
\item[{const char $\ast$}]{s1name, }
\item[{const char $\ast$}]{s2name, }
\item[{const char $\ast$}]{evname, }
\item[{const char $\ast$}]{actlist\-\_\-name}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_ab1f9de16e4ea426ea86eb17a5d2d42d9}


Register state transitions. 

Once events, action lists, action handlers, and states have been registered, transitions between states can be registered.


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
{\em s1name} & Name of the initial state \\
\hline
{\em s2name} & Name of the final state \\
\hline
{\em evname} & Name of the triggereding event \\
\hline
{\em actlist\-\_\-name} & Name of the action list to execute on receipt of the triggering event. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\-M\-\_\-\-T\-R\-A\-N\-S\-I\-T\-I\-O\-N\-\_\-\-H\-A\-N\-D\-L\-E of the created transition (an integer) 
\end{DoxyReturn}


Definition at line 549 of file statemachine.\-c.

\hypertarget{statemachine_8c_a5ba3c23f13377961b72ec364b75f2942}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-reset\-\_\-machine@{sm\-\_\-reset\-\_\-machine}}
\index{sm\-\_\-reset\-\_\-machine@{sm\-\_\-reset\-\_\-machine}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-reset\-\_\-machine}]{\setlength{\rightskip}{0pt plus 5cm}void sm\-\_\-reset\-\_\-machine (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a5ba3c23f13377961b72ec364b75f2942}


Reset a state machine object. This is like sm\-\_\-new\-\_\-machine, except you don't have to re-\/establish the states, events, actions and such. 


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
\end{DoxyParams}


Definition at line 711 of file statemachine.\-c.

\hypertarget{statemachine_8c_ac4bd28b0a35ed1262d9bd536f48bcd5a}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-set\-\_\-definition\-\_\-complete@{sm\-\_\-set\-\_\-definition\-\_\-complete}}
\index{sm\-\_\-set\-\_\-definition\-\_\-complete@{sm\-\_\-set\-\_\-definition\-\_\-complete}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-set\-\_\-definition\-\_\-complete}]{\setlength{\rightskip}{0pt plus 5cm}void sm\-\_\-set\-\_\-definition\-\_\-complete (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_ac4bd28b0a35ed1262d9bd536f48bcd5a}


Set the state definition complete flag for the machine's state definition table. Note that this will affect A\-L\-L machines that share a particular state definition table. 


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
\end{DoxyParams}


Definition at line 939 of file statemachine.\-c.

\hypertarget{statemachine_8c_a477ebff176894deea265f7eb17fc3d2c}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-strdiag@{sm\-\_\-strdiag}}
\index{sm\-\_\-strdiag@{sm\-\_\-strdiag}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-strdiag}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ sm\-\_\-strdiag (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a477ebff176894deea265f7eb17fc3d2c}


Format error text. Updates the errtext field of the state machine structure. 


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to formatted text string. 
\end{DoxyReturn}


Definition at line 891 of file statemachine.\-c.

\hypertarget{statemachine_8c_ab3f41e9efa7f5839ff50d471b84d1d27}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-strerror@{sm\-\_\-strerror}}
\index{sm\-\_\-strerror@{sm\-\_\-strerror}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-strerror}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ sm\-\_\-strerror (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-E\-R\-R\-O\-R}}]{errcode}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_ab3f41e9efa7f5839ff50d471b84d1d27}


Convenience function for getting string interpretation of an error code. 


\begin{DoxyParams}{Parameters}
{\em errcode} & Numeric error code (see \hyperlink{statemachine_8h}{statemachine.\-h} type S\-M\-\_\-\-E\-R\-R\-O\-R) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error text message string. 
\end{DoxyReturn}


Definition at line 867 of file statemachine.\-c.

\hypertarget{statemachine_8c_a298c4956620a135d748500a6371106d6}{\index{statemachine.\-c@{statemachine.\-c}!sm\-\_\-transition@{sm\-\_\-transition}}
\index{sm\-\_\-transition@{sm\-\_\-transition}!statemachine.c@{statemachine.\-c}}
\subsubsection[{sm\-\_\-transition}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-E\-R\-R\-O\-R} sm\-\_\-transition (
\begin{DoxyParamCaption}
\item[{{\bf S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E} $\ast$}]{machinep, }
\item[{const char $\ast$}]{event\-\_\-name, }
\item[{void $\ast$}]{datap}
\end{DoxyParamCaption}
)}}\label{statemachine_8c_a298c4956620a135d748500a6371106d6}


The main transition processor. Should not be called until machine has been started by calling sm\-\_\-set\-\_\-definition\-\_\-complete to mark the definition of the state/transition tables to be complete. The machine is currently in state s1. The incoming event named by event\-\_\-name selects a transition. If no transition matching the incoming event is found, no transition occurs but the function and sm\-\_\-errno(machinep) return non-\/zero. The datap is provided to the action handlers which are members of the transition's action list. Any action handler can return the events E\-V\-H\-\_\-\-N\-U\-L\-L, meaning no event, or E\-V\-\_\-\-A\-B\-O\-R\-T indicating the machine is in a bad state. Action handlers may also return custom events. These will get pushed onto the event queue. After the transition is complete, the event queue is serviced, which may trigger additional transitions. 


\begin{DoxyParams}{Parameters}
{\em machinep} & Pointer to S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure for the statemachine \\
\hline
{\em event\-\_\-name} & Name of the incoming event \\
\hline
{\em datap} & Application defined data to be passed to action handler functions during transition \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
an S\-M\-\_\-\-E\-R\-R\-O\-R code (S\-M\-\_\-\-N\-O\-\_\-\-E\-R\-R\-O\-R = 0 indicates success) 
\end{DoxyReturn}


Definition at line 742 of file statemachine.\-c.

