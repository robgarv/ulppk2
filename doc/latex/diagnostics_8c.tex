\hypertarget{diagnostics_8c}{\section{ulppk/diagnostics.c File Reference}
\label{diagnostics_8c}\index{ulppk/diagnostics.\-c@{ulppk/diagnostics.\-c}}
}


Utilities for handling diagnostic error output.  


{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$unistd.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$errno.\-h$>$}\\*
{\ttfamily \#include $<$limits.\-h$>$}\\*
{\ttfamily \#include $<$diagnostics.\-h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
char $\ast$ \hyperlink{diagnostics_8c_a44c5456e4b1ffd3627ef2292c7e7de9f}{verr\-\_\-msg} (char $\ast$buffp, const char $\ast$label, const char $\ast$func, const char $\ast$file, int line, const char $\ast$fmtp, va\-\_\-list ap)
\item 
char $\ast$ \hyperlink{diagnostics_8c_a05611ae6dcdc1c6ade9c973b648e73e8}{err\-\_\-msg} (char $\ast$buffp, const char $\ast$func, const char $\ast$file, int line, const char $\ast$fmtp,...)
\item 
void \hyperlink{diagnostics_8c_a235767ea56d89957d51d5d2eb0201f62}{app\-\_\-error} (F\-I\-L\-E $\ast$f, const char $\ast$func, const char $\ast$file, int line, const char $\ast$fmtp,...)
\item 
void \hyperlink{diagnostics_8c_aa2a7f8ba578a3cb05093f20883e2f123}{dbg\-\_\-trace} (F\-I\-L\-E $\ast$f, int debug\-\_\-flag, const char $\ast$func, const char $\ast$file, int line, const char $\ast$fmtp,...)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Utilities for handling diagnostic error output. To enable debug trace output, compile with -\/\-D\-U\-L\-P\-P\-K\-\_\-\-D\-E\-B\-U\-G. 

Definition in file \hyperlink{diagnostics_8c_source}{diagnostics.\-c}.



\subsection{Function Documentation}
\hypertarget{diagnostics_8c_a235767ea56d89957d51d5d2eb0201f62}{\index{diagnostics.\-c@{diagnostics.\-c}!app\-\_\-error@{app\-\_\-error}}
\index{app\-\_\-error@{app\-\_\-error}!diagnostics.c@{diagnostics.\-c}}
\subsubsection[{app\-\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}void app\-\_\-error (
\begin{DoxyParamCaption}
\item[{F\-I\-L\-E $\ast$}]{f, }
\item[{const char $\ast$}]{func, }
\item[{const char $\ast$}]{file, }
\item[{int}]{line, }
\item[{const char $\ast$}]{fmtp, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{diagnostics_8c_a235767ea56d89957d51d5d2eb0201f62}
Format an error message, writes to a file and terminates the application. Accepts a variable number of arguments. Normally called using the A\-P\-P\-\_\-\-E\-R\-R macro in \hyperlink{diagnostics_8h}{diagnostics.\-h}.


\begin{DoxyParams}{Parameters}
{\em f} & The file stream (F\-I\-L\-E$\ast$) to which the message is written. \\
\hline
{\em func} & Name of function in which this function was called. \\
\hline
{\em file} & Source file in which function is defined \\
\hline
{\em line} & Line at which verr\-\_\-msg was invoked. \\
\hline
{\em fmtp} & A format string \\
\hline
{\em ...} & variable number of arguments follows. \\
\hline
\end{DoxyParams}


Definition at line 132 of file diagnostics.\-c.

\hypertarget{diagnostics_8c_aa2a7f8ba578a3cb05093f20883e2f123}{\index{diagnostics.\-c@{diagnostics.\-c}!dbg\-\_\-trace@{dbg\-\_\-trace}}
\index{dbg\-\_\-trace@{dbg\-\_\-trace}!diagnostics.c@{diagnostics.\-c}}
\subsubsection[{dbg\-\_\-trace}]{\setlength{\rightskip}{0pt plus 5cm}void dbg\-\_\-trace (
\begin{DoxyParamCaption}
\item[{F\-I\-L\-E $\ast$}]{f, }
\item[{int}]{debug\-\_\-flag, }
\item[{const char $\ast$}]{func, }
\item[{const char $\ast$}]{file, }
\item[{int}]{line, }
\item[{const char $\ast$}]{fmtp, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{diagnostics_8c_aa2a7f8ba578a3cb05093f20883e2f123}
Format an error message. Accepts a variable number of arguments. Used to produce debug trace output. Normally called using the D\-B\-G\-\_\-\-T\-R\-A\-C\-E macro in \hyperlink{diagnostics_8h}{diagnostics.\-h}


\begin{DoxyParams}{Parameters}
{\em f} & The file stream (F\-I\-L\-E$\ast$) to which the message is written. \\
\hline
{\em debug\-\_\-flag} & If false, then debug output is suppressed. \\
\hline
{\em func} & Name of function in which this function was called. \\
\hline
{\em file} & Source file in which function is defined \\
\hline
{\em line} & Line at which verr\-\_\-msg was invoked. \\
\hline
{\em fmtp} & A format string \\
\hline
{\em ...} & variable number of arguments follows. \\
\hline
\end{DoxyParams}


Definition at line 161 of file diagnostics.\-c.

\hypertarget{diagnostics_8c_a05611ae6dcdc1c6ade9c973b648e73e8}{\index{diagnostics.\-c@{diagnostics.\-c}!err\-\_\-msg@{err\-\_\-msg}}
\index{err\-\_\-msg@{err\-\_\-msg}!diagnostics.c@{diagnostics.\-c}}
\subsubsection[{err\-\_\-msg}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ err\-\_\-msg (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{buffp, }
\item[{const char $\ast$}]{func, }
\item[{const char $\ast$}]{file, }
\item[{int}]{line, }
\item[{const char $\ast$}]{fmtp, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{diagnostics_8c_a05611ae6dcdc1c6ade9c973b648e73e8}
Format an error message. Accepts a variable number of arguments.


\begin{DoxyParams}{Parameters}
{\em buffp} & buffp is a buffer of sufficient size provided by the caller, and which will receive the formatted error message. \\
\hline
{\em func} & Name of function in which this function was called. \\
\hline
{\em file} & Source file in which function is defined \\
\hline
{\em line} & Line at which verr\-\_\-msg was invoked. \\
\hline
{\em fmtp} & A format string \\
\hline
{\em ...} & variable number of arguments follows. \\
\hline
\end{DoxyParams}


Definition at line 96 of file diagnostics.\-c.

\hypertarget{diagnostics_8c_a44c5456e4b1ffd3627ef2292c7e7de9f}{\index{diagnostics.\-c@{diagnostics.\-c}!verr\-\_\-msg@{verr\-\_\-msg}}
\index{verr\-\_\-msg@{verr\-\_\-msg}!diagnostics.c@{diagnostics.\-c}}
\subsubsection[{verr\-\_\-msg}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ verr\-\_\-msg (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{buffp, }
\item[{const char $\ast$}]{label, }
\item[{const char $\ast$}]{func, }
\item[{const char $\ast$}]{file, }
\item[{int}]{line, }
\item[{const char $\ast$}]{fmtp, }
\item[{va\-\_\-list}]{ap}
\end{DoxyParamCaption}
)}}\label{diagnostics_8c_a44c5456e4b1ffd3627ef2292c7e7de9f}
Format an error message. Similar to err\-\_\-msg but provides handling for errno and errno's related error message string.


\begin{DoxyParams}{Parameters}
{\em buffp} & Pointer to buffer to receive text. If buffp is N\-U\-L\-L, then memory is allocated by the function. This memory M\-U\-S\-T be released by calling free. Otherwise, buffp is a buffer of sufficient size provided by the caller, and which will receive the formatted error message. \\
\hline
{\em label} & Label shows up first in the error text \\
\hline
{\em func} & Name of function in which this function was called. \\
\hline
{\em file} & Source file in which function is defined \\
\hline
{\em line} & Line at which verr\-\_\-msg was invoked. \\
\hline
{\em fmtp} & A format string \\
\hline
{\em ap} & Variable length argument list. \\
\hline
\end{DoxyParams}


Definition at line 61 of file diagnostics.\-c.

