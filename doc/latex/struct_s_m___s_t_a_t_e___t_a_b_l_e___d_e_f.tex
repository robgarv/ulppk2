\hypertarget{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f}{\section{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F Struct Reference}
\label{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f}\index{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}}
}


{\ttfamily \#include $<$statemachine.\-h$>$}

\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
char \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_aef62a5c3d3f28b912cb9864df5c8cd4f}{name} \mbox{[}\hyperlink{statemachine_8h_a13c4f043ac1358c6782b02f76ff96135}{M\-A\-X\-\_\-\-S\-M\-\_\-\-N\-A\-M\-E\-\_\-\-L\-E\-N}\mbox{]}
\item 
unsigned int \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_aac1ff37dce11dcff67359f103bc2a193}{statedef\-\_\-complete}
\begin{DoxyCompactList}\small\item\em state definition complete flag \end{DoxyCompactList}\item 
\hyperlink{statemachine_8h_aa30fadf137d8a09eceea2a2d973be5ef}{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-H\-A\-N\-D\-L\-E} \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_aeb6ac427ff3b34dd686aa165325f0895}{next\-\_\-stateh}
\begin{DoxyCompactList}\small\item\em next open slot in state table \end{DoxyCompactList}\item 
\hyperlink{statemachine_8h_acb17336d3c3a21ee8233cec54bb55b4f}{S\-M\-\_\-\-E\-V\-E\-N\-T\-\_\-\-H\-A\-N\-D\-L\-E} \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a83a349559cb62ecc1dbc314298e294a3}{next\-\_\-eventh}
\begin{DoxyCompactList}\small\item\em next open slot in event table \end{DoxyCompactList}\item 
\hyperlink{statemachine_8h_a6f0ccd0b6cfa6e37d337d865442ee93b}{S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-L\-I\-S\-T\-\_\-\-H\-A\-N\-D\-L\-E} \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a61c13777dc9b48d235c2a3e0f41da4dc}{next\-\_\-alx}
\begin{DoxyCompactList}\small\item\em next open slot in action list table \end{DoxyCompactList}\item 
\hyperlink{statemachine_8h_a49cb86c3ee19747e43ffc473b6ba14a0}{S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-H\-A\-N\-D\-L\-E} \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a5e4f2552c121238148c32b9d4b663b1b}{next\-\_\-acth}
\begin{DoxyCompactList}\small\item\em next action handle \end{DoxyCompactList}\item 
\hyperlink{statemachine_8h_a28c039f37e40bf52b3b563ceab338577}{S\-M\-\_\-\-S\-T\-A\-T\-E} \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a890467ba9a24f77386c5830e1bb1dc37}{states} \mbox{[}\hyperlink{statemachine_8h_aa84c707254ca41f03f93d08cf1bffd84}{M\-A\-X\-\_\-\-S\-T\-A\-T\-E\-S\-\_\-\-P\-E\-R\-\_\-\-M\-A\-C\-H\-I\-N\-E}\mbox{]}
\item 
\hyperlink{statemachine_8h_a3f5444632a5a5fae6c85d5aa09002cfb}{S\-M\-\_\-\-E\-V\-E\-N\-T} \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a0ead43d89832f9888dd4f3503c7b5e43}{events} \mbox{[}\hyperlink{statemachine_8h_ad657826ec80658ad3c1822dcc9aafe7f}{M\-A\-X\-\_\-\-E\-V\-E\-N\-T\-S\-\_\-\-P\-E\-R\-\_\-\-M\-A\-C\-H\-I\-N\-E}\mbox{]}
\item 
\hyperlink{statemachine_8h_a96169f2f87b48730c60b516e164e5adf}{S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-L\-I\-S\-T} \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a2d009396b23b93fbc7cd65d7604206af}{actlists} \mbox{[}\hyperlink{statemachine_8h_ac9327c97e20bb488c395b93f3fda2ffa}{M\-A\-X\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-L\-I\-S\-T\-S\-\_\-\-P\-E\-R\-\_\-\-M\-A\-C\-H\-I\-N\-E}\mbox{]}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Distinguish between the state table defintions, given in structure \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f}{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}, and the state machine that operates from it. This is because multiple statemachines (representing the states of different object instances) can be running at the same time. Note that the statedef\-\_\-complete flag must be set before it is safe to run the machine(s) by calling sm\-\_\-transition. Function sm\-\_\-set\-\_\-definition\-\_\-complete must be called after all state table objects (states, events, action lists, actions, and transitions) ave been registered.

Another way of looking at this\-: A \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f}{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F} defines a schema. A S\-M\-\_\-\-M\-A\-C\-H\-I\-N\-E structure defines a process instance executing that schema.

To create a machine. (This machine is allocated off the heap.)

static $\ast$ \hyperlink{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f}{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F} mydefs;

machine1p = sm\-\_\-new\-\_\-machine(N\-U\-L\-L, \&mydefs, \char`\"{}mymachine1\char`\"{});

Now register events, action lists, Then create a second machine reusing the definitions table\-:

machine2p = sm\-\_\-new\-\_\-machine(N\-U\-L\-L, \&mydefs, \char`\"{}mymachine2\char`\"{} 

Definition at line 191 of file statemachine.\-h.



\subsection{Field Documentation}
\hypertarget{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a2d009396b23b93fbc7cd65d7604206af}{\index{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}!actlists@{actlists}}
\index{actlists@{actlists}!SM_STATE_TABLE_DEF@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}}
\subsubsection[{actlists}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-L\-I\-S\-T} actlists\mbox{[}{\bf M\-A\-X\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-L\-I\-S\-T\-S\-\_\-\-P\-E\-R\-\_\-\-M\-A\-C\-H\-I\-N\-E}\mbox{]}}}\label{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a2d009396b23b93fbc7cd65d7604206af}


Definition at line 200 of file statemachine.\-h.

\hypertarget{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a0ead43d89832f9888dd4f3503c7b5e43}{\index{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}!events@{events}}
\index{events@{events}!SM_STATE_TABLE_DEF@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}}
\subsubsection[{events}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-E\-V\-E\-N\-T} events\mbox{[}{\bf M\-A\-X\-\_\-\-E\-V\-E\-N\-T\-S\-\_\-\-P\-E\-R\-\_\-\-M\-A\-C\-H\-I\-N\-E}\mbox{]}}}\label{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a0ead43d89832f9888dd4f3503c7b5e43}


Definition at line 199 of file statemachine.\-h.

\hypertarget{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_aef62a5c3d3f28b912cb9864df5c8cd4f}{\index{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}!name@{name}}
\index{name@{name}!SM_STATE_TABLE_DEF@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}}
\subsubsection[{name}]{\setlength{\rightskip}{0pt plus 5cm}char name\mbox{[}{\bf M\-A\-X\-\_\-\-S\-M\-\_\-\-N\-A\-M\-E\-\_\-\-L\-E\-N}\mbox{]}}}\label{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_aef62a5c3d3f28b912cb9864df5c8cd4f}


Definition at line 192 of file statemachine.\-h.

\hypertarget{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a5e4f2552c121238148c32b9d4b663b1b}{\index{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}!next\-\_\-acth@{next\-\_\-acth}}
\index{next\-\_\-acth@{next\-\_\-acth}!SM_STATE_TABLE_DEF@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}}
\subsubsection[{next\-\_\-acth}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-H\-A\-N\-D\-L\-E} next\-\_\-acth}}\label{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a5e4f2552c121238148c32b9d4b663b1b}


next action handle 



Definition at line 197 of file statemachine.\-h.

\hypertarget{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a61c13777dc9b48d235c2a3e0f41da4dc}{\index{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}!next\-\_\-alx@{next\-\_\-alx}}
\index{next\-\_\-alx@{next\-\_\-alx}!SM_STATE_TABLE_DEF@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}}
\subsubsection[{next\-\_\-alx}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-A\-C\-T\-I\-O\-N\-\_\-\-L\-I\-S\-T\-\_\-\-H\-A\-N\-D\-L\-E} next\-\_\-alx}}\label{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a61c13777dc9b48d235c2a3e0f41da4dc}


next open slot in action list table 



Definition at line 196 of file statemachine.\-h.

\hypertarget{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a83a349559cb62ecc1dbc314298e294a3}{\index{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}!next\-\_\-eventh@{next\-\_\-eventh}}
\index{next\-\_\-eventh@{next\-\_\-eventh}!SM_STATE_TABLE_DEF@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}}
\subsubsection[{next\-\_\-eventh}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-E\-V\-E\-N\-T\-\_\-\-H\-A\-N\-D\-L\-E} next\-\_\-eventh}}\label{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a83a349559cb62ecc1dbc314298e294a3}


next open slot in event table 



Definition at line 195 of file statemachine.\-h.

\hypertarget{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_aeb6ac427ff3b34dd686aa165325f0895}{\index{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}!next\-\_\-stateh@{next\-\_\-stateh}}
\index{next\-\_\-stateh@{next\-\_\-stateh}!SM_STATE_TABLE_DEF@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}}
\subsubsection[{next\-\_\-stateh}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-H\-A\-N\-D\-L\-E} next\-\_\-stateh}}\label{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_aeb6ac427ff3b34dd686aa165325f0895}


next open slot in state table 



Definition at line 194 of file statemachine.\-h.

\hypertarget{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_aac1ff37dce11dcff67359f103bc2a193}{\index{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}!statedef\-\_\-complete@{statedef\-\_\-complete}}
\index{statedef\-\_\-complete@{statedef\-\_\-complete}!SM_STATE_TABLE_DEF@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}}
\subsubsection[{statedef\-\_\-complete}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int statedef\-\_\-complete}}\label{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_aac1ff37dce11dcff67359f103bc2a193}


state definition complete flag 



Definition at line 193 of file statemachine.\-h.

\hypertarget{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a890467ba9a24f77386c5830e1bb1dc37}{\index{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}!states@{states}}
\index{states@{states}!SM_STATE_TABLE_DEF@{S\-M\-\_\-\-S\-T\-A\-T\-E\-\_\-\-T\-A\-B\-L\-E\-\_\-\-D\-E\-F}}
\subsubsection[{states}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\-M\-\_\-\-S\-T\-A\-T\-E} states\mbox{[}{\bf M\-A\-X\-\_\-\-S\-T\-A\-T\-E\-S\-\_\-\-P\-E\-R\-\_\-\-M\-A\-C\-H\-I\-N\-E}\mbox{]}}}\label{struct_s_m___s_t_a_t_e___t_a_b_l_e___d_e_f_a890467ba9a24f77386c5830e1bb1dc37}


Definition at line 198 of file statemachine.\-h.



The documentation for this struct was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
ulppk/\hyperlink{statemachine_8h}{statemachine.\-h}\end{DoxyCompactItemize}
